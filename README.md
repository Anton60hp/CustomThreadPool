# CustomThreadPool

## Анализ производительности
| Характеристика  | CustomThreadPool  | ThreadPoolExecutor | Tomcat  |
|------------------|-------------|-----------------|----------|
| Гибкость настройки  | Высокая         | Высокая            | Низкая    |
| Время выполнения  | 31.5           | 36.8              | 35.0    |
| Отказоустойчивость | Средняя         | Высокая            | Высокая          |

Тестирование производилось на смешанной нагрузке на 8-ядерном процессоре.

## Оптимальные параметры

### Размер пула:
CPU-bound задачи: corePoolSize = N_cores, maxPoolSize = 2*N_cores

I/O-bound задачи: corePoolSize = 2*N_cores, maxPoolSize = 4*N_cores

### Очереди:
Оптимальное количество очередей: N_cores / 2

Размер очереди: maxPoolSize * 2

### KeepAlive:
Для стабильной нагрузки: 30-60 сек

Для переменной нагрузки: 5-10 сек


## Механизм распределения задач:
Используется множество очередей (Round-robin распределение)

Алгоритм выбора очереди:

Циклический перебор (Round-robin)

При перегрузке - создание новых воркеров

Учет текущей загрузки очередей

## Балансировка нагрузки:
### Динамическое управление потоками:

### Поддержание minSpareThreads

Уменьшение пула при простое

Распределение между очередями:

### Равномерное распределение новых задач

Локальная работа воркеров со своей очередью
